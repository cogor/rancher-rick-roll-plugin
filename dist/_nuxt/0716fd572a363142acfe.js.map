{"version":3,"sources":["webpack:///./node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue?7777","webpack:///./node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue?7430","webpack:///node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue","webpack:///./node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue"],"names":["components","SelectIconGrid","Banner","asyncData","store","authProvidersInfo","authProvs","redirect","nonLocal","enabled","data","resource","schema","hasListComponent","hasEditComponent","computed","rows","displayName","localUsersRoute","name","params","cluster","product","methods","colorFor","goTo","id","query","component","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","length","_e","attrs","t","on","row"],"mappings":"mGAAA,I,sECAoT,ECQrS,CACfA,YAAAC,mBAAAC,YAEAC,sBAAA,0JAAAC,uBAAA,SACAC,eAAA,OAIA,OAJAC,UAEA,iBACAC,qBACA,kBAEA,CAAAC,oBAAAC,oBAAA,0CAPA,EAQA,EAEAC,gBACA,sBACA,sBACA,oBACA,iCACA,iCAGA,OACAC,WACAC,OAJA,gCAKAC,mBACAC,mBAGAN,cAEA,EAEAO,UACAC,gBACA,6DACA,EAEAC,uBACA,8DACA,EAEAC,2BACA,OACAC,kCACAC,QACAC,mCAAAC,eAAAX,mBAGA,GAGAY,SACAC,qBACA,IAEA,EAFA,+BAEA,sBAEA,aACA,SAGA,mBACA,EAEAC,iBACA,mBACAN,gCACAC,QAAAM,MACAC,+BAEA,I,OCvEIC,UAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIZ,aAAa,UAAUY,EAAIO,GAAG,KAAOP,EAAIpB,QAAQ6B,OAA2WT,EAAIU,KAAvWN,EAAG,SAAS,CAACO,MAAM,CAAC,MAAQX,EAAIY,EAAE,0BAA0B,MAAQ,SAAS,CAACZ,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIY,EAAE,4BAA4B,UAAUR,EAAG,YAAY,CAACO,MAAM,CAAC,GAAKX,EAAIX,kBAAkB,CAACW,EAAIO,GAAG,WAAWP,EAAIQ,GAAGR,EAAIY,EAAE,2BAA2B,YAAYZ,EAAIO,GAAG,KAAKH,EAAG,MAAMJ,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIY,EAAE,2BAA2B,SAAS,GAAYZ,EAAIO,GAAG,KAAKH,EAAG,iBAAiB,CAACO,MAAM,CAAC,KAAOX,EAAIb,KAAK,YAAYa,EAAIL,SAAS,aAAa,YAAYkB,GAAG,CAAC,QAAU,SAAUC,GAAO,OAAOd,EAAIJ,KAAKkB,EAAIjB,GAAK,MAAM,EAAE,GAC3tB,IGUpB,EACA,KACA,KACA,MAIa,UAAAE,U","file":"0716fd572a363142acfe.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"m-0\"},[_vm._v(\"\\n    \"+_vm._s(_vm.displayName)+\"\\n  \")]),_vm._v(\" \"),(!_vm.enabled.length)?_c('Banner',{attrs:{\"label\":_vm.t('authConfig.noneEnabled'),\"color\":\"info\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.t('authConfig.localEnabled'))+\"\\n    \"),_c('nuxt-link',{attrs:{\"to\":_vm.localUsersRoute}},[_vm._v(\"\\n      \"+_vm._s(_vm.t('authConfig.manageLocal'))+\"\\n    \")]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n    \"+_vm._s(_vm.t('authConfig.noneEnabled'))+\"\\n  \")],1):_vm._e(),_vm._v(\" \"),_c('SelectIconGrid',{attrs:{\"rows\":_vm.rows,\"color-for\":_vm.colorFor,\"name-field\":\"provider\"},on:{\"clicked\":function (row) { return _vm.goTo(row.id); }}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--6-0!../../../../../../../thread-loader/dist/cjs.js??ref--6-1!../../../../../../../babel-loader/lib/index.js??ref--6-2!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../cache-loader/dist/cjs.js??ref--6-0!../../../../../../../thread-loader/dist/cjs.js??ref--6-1!../../../../../../../babel-loader/lib/index.js??ref--6-2!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: { SelectIconGrid, Banner },\n\n  async asyncData({ store, redirect }) {\n    const authProvs = await authProvidersInfo(store);\n\n    if (!!authProvs.enabledLocation) {\n      redirect(authProvs.enabledLocation);\n    }\n\n    return { nonLocal: authProvs.nonLocal, enabled: authProvs.enabled };\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by asyncData later\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner v-if=\"!enabled.length\" :label=\"t('authConfig.noneEnabled')\" color=\"info\">\n      {{ t('authConfig.localEnabled') }}\n      <nuxt-link :to=\"localUsersRoute\">\n        {{ t('authConfig.manageLocal') }}\n      </nuxt-link>\n      <br />\n      {{ t('authConfig.noneEnabled') }}\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=380108c6&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}