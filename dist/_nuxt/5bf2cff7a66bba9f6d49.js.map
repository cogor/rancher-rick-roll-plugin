{"version":3,"sources":["webpack:///./node_modules/@rancher/shell/pages/c/_cluster/explorer/explorer-utils.js","webpack:///./node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue?22f5","webpack:///node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue","webpack:///./node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue?e989","webpack:///./node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue"],"names":["fetchClusterResources","store","type","opt","getters","dispatch","resources","console","error","components","SortableTable","fetch","data","events","eventHeaders","REASON","canBeVariable","width","name","label","labelKey","value","sort","formatter","defaultSort","component","_vm","this","_h","$createElement","_c","_self","attrs","$fetchState","pending","scopedSlots","_u","key","fn","ref","row","detailLocation","_v","_s","displayMessage","_e"],"mappings":"6KAAO,SAAeA,EAAsB,EAAD,kCAgB1C,2DAhBM,WAAqCC,EAAOC,GAAI,oGACE,GADAC,EAAM,EAAH,6BAAG,CAAC,GAC/CF,EAAMG,QAAQ,qBAAqBF,GAEtC,CAAF,yCAEkBD,EAAMI,SAAS,kBAAmB,CAAEH,OAAMC,QAAM,OAAzD,OAATG,EAAY,EAAH,uBAERA,GAAS,QAE8D,OAF9D,0BAEhBC,QAAQC,MAAM,oCAAD,OAAsCN,EAAI,sBAAuB,kBAEvE,IAAE,iCAIN,IAAE,0DACV,wB,qFChBD,I,krBCOe,ICP+R,EDO/R,CACfO,YAAAC,mBAEAC,iBAAA,oKACAX,8CAAA,iEADA,EAEA,EAEAY,gBA6BA,OACAC,UACAC,aAxBA,CANA,SACAC,MACA,CAAAC,mBAAA,IACAC,YAKA,CACAC,gBACAC,iBACAC,2DACAC,8BACAC,mDACAN,kBAEA,CACAE,YACAC,aACAC,uDACAC,kBACAC,sBACAC,iBACAN,UACAO,iBAQA,G,OExCIC,UAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUN,EAAIO,YAAYC,QAAQ,KAAOR,EAAIb,OAAO,QAAUa,EAAIZ,aAAa,YAAY,KAAK,QAAS,EAAM,iBAAgB,EAAM,eAAc,EAAM,QAAS,EAAK,gBAAgB,GAAG,kBAAkB,QAAQqB,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,gBAAgBC,GAAG,SAASC,GACpY,IAAIC,EAAMD,EAAIC,IACVnB,EAAQkB,EAAIlB,MAChB,MAAO,CAACS,EAAG,SAAS,CAACE,MAAM,CAAC,GAAKQ,EAAIC,iBAAiB,CAACf,EAAIgB,GAAG,WAAWhB,EAAIiB,GAAGtB,GAAO,YAAYK,EAAIgB,GAAG,KAAMF,EAAW,QAAEV,EAAG,MAAM,CAACJ,EAAIgB,GAAG,WAAWhB,EAAIiB,GAAGH,EAAII,gBAAgB,YAAYlB,EAAImB,KAAK,MAAM,GACzL,IGOpB,EACA,KACA,KACA,MAIa,UAAApB,U","file":"5bf2cff7a66bba9f6d49.js","sourcesContent":["export async function fetchClusterResources(store, type, opt = {}) {\n  const schema = store.getters['cluster/schemaFor'](type);\n\n  if (schema) {\n    try {\n      const resources = await store.dispatch('cluster/findAll', { type, opt });\n\n      return resources;\n    } catch (err) {\n      console.error(`Failed fetching cluster resource ${ type } with error:`, err); // eslint-disable-line no-console\n\n      return [];\n    }\n  }\n\n  return [];\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SortableTable',{attrs:{\"loading\":_vm.$fetchState.pending,\"rows\":_vm.events,\"headers\":_vm.eventHeaders,\"key-field\":\"id\",\"search\":false,\"table-actions\":false,\"row-actions\":false,\"paging\":true,\"rows-per-page\":10,\"default-sort-by\":\"date\"},scopedSlots:_vm._u([{key:\"cell:resource\",fn:function(ref){\nvar row = ref.row;\nvar value = ref.value;\nreturn [_c('n-link',{attrs:{\"to\":row.detailLocation}},[_vm._v(\"\\n      \"+_vm._s(value)+\"\\n    \")]),_vm._v(\" \"),(row.message)?_c('div',[_vm._v(\"\\n      \"+_vm._s(row.displayMessage)+\"\\n    \")]):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n\nimport SortableTable from '@shell/components/SortableTable';\nimport { REASON } from '@shell/config/table-headers';\nimport { EVENT } from '@shell/config/types';\nimport { fetchClusterResources } from './explorer-utils';\n\nexport default {\n  components: { SortableTable },\n\n  async fetch() {\n    this.events = await fetchClusterResources(this.$store, EVENT);\n  },\n\n  data() {\n    const reason = {\n      ...REASON,\n      ...{ canBeVariable: true },\n      width: 130,\n    };\n\n    const eventHeaders = [\n      reason,\n      {\n        name:          'resource',\n        label:         'Resource',\n        labelKey:      'clusterIndexPage.sections.events.resource.label',\n        value:         'displayInvolvedObject',\n        sort:          ['involvedObject.kind', 'involvedObject.name'],\n        canBeVariable: true,\n      },\n      {\n        name:          'date',\n        label:         'Date',\n        labelKey:      'clusterIndexPage.sections.events.date.label',\n        value:         'timestamp',\n        sort:          'timestamp:desc',\n        formatter:     'Date',\n        width:         220,\n        defaultSort:   true,\n      },\n    ];\n\n    return {\n      events: [],\n      eventHeaders,\n    };\n  }\n};\n</script>\n\n<template>\n  <SortableTable\n    :loading=\"$fetchState.pending\"\n    :rows=\"events\"\n    :headers=\"eventHeaders\"\n    key-field=\"id\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :row-actions=\"false\"\n    :paging=\"true\"\n    :rows-per-page=\"10\"\n    default-sort-by=\"date\"\n  >\n    <template #cell:resource=\"{row, value}\">\n      <n-link :to=\"row.detailLocation\">\n        {{ value }}\n      </n-link>\n      <div v-if=\"row.message\">\n        {{ row.displayMessage }}\n      </div>\n    </template>\n  </SortableTable>\n</template>\n","import mod from \"-!../../../../../../cache-loader/dist/cjs.js??ref--6-0!../../../../../../thread-loader/dist/cjs.js??ref--6-1!../../../../../../babel-loader/lib/index.js??ref--6-2!../../../../../../vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../cache-loader/dist/cjs.js??ref--6-0!../../../../../../thread-loader/dist/cjs.js??ref--6-1!../../../../../../babel-loader/lib/index.js??ref--6-2!../../../../../../vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventsTable.vue?vue&type=template&id=24020237&\"\nimport script from \"./EventsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./EventsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}