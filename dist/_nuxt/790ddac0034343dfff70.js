(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{2892:function(e,r,t){"use strict";t.r(r);var n=t(2),o=(t(25),t(32),t(41),t(9)),object=t(8),c=t(68),l=t(859),h=["ping","adfs","keycloak","okta","shibboleth"];function d(e,code){try{window.opener.window.onAuthTest(e,code),setTimeout((function(){window.close()}),250)}catch(e){window.close()}}var w={layout:"unauthenticated",fetch:function(e){return Object(n.a)(regeneratorRuntime.mark((function r(){var t,n,h,code,d,w,f,v,k,y,x,O,m,$,_,j,J,T;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.store,n=e.route,h=e.redirect,code=n.query[o.k],d=n.query[o.l],w=n.query,f=w.error,v=w.error_description,k=w.errorCode,y=w.errorMsg,!(f||v||k||y)){r.next=9;break}return x=v||f||k,y&&(x=t.getters["i18n/withFallback"]("login.serverError.".concat(y),null,y)),h("/auth/login?err=".concat(escape(x))),r.abrupt("return");case 9:r.prev=9,O=JSON.parse(Object(c.a)(d)),r.next=16;break;case 13:return r.prev=13,r.t0=r.catch(9),r.abrupt("return");case 16:if($=(m=O).test,_=m.provider,j=m.nonce,!$){r.next=19;break}return r.abrupt("return");case 19:return r.prev=19,r.next=22,t.dispatch("auth/verifyOAuth",{code:code,nonce:j,provider:_});case 22:if(200!==(J=r.sent)._status){r.next=30;break}return T=n.query[o.b]||"/",r.next=27,Object(l.a)({app:t.app,store:t,$plugin:t.$plugin});case 27:h(T),r.next=31;break;case 30:h("/auth/login?err=".concat(escape(J)));case 31:r.next=36;break;case 33:r.prev=33,r.t1=r.catch(19),h("/auth/login?err=".concat(escape(r.t1)));case 36:case"end":return r.stop()}}),r,null,[[9,13],[19,33]])})))()},data:function(){var e=this.$route.query[o.l]||"",r={};try{r=JSON.parse(Object(c.a)(e))}catch(e){}return{testing:r.test}},mounted:function(){if(this.testing)try{var e=this.$route.query,r=e.error,t=e.error_description,code=e[o.k],n=e.errorMsg,c=t||r||(code?null:"No code supplied by auth provider");n&&(c=this.$store.getters["i18n/withFallback"]("login.serverError.".concat(n),null,n)),d(c,code)}catch(e){window.close()}else{var l=this.$route.query;if(window.opener){var w=Object(object.get)(l,"config");h.includes(w)&&(window.opener.window.onAuthTest?d(null,null):d({err:"failure"}))}}}},f=t(1),component=Object(f.a)(w,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("main",[t("h1",{staticClass:"text-center mt-50"},[e.testing?t("span",[e._v("\n      Testing Configuration…\n    ")]):t("span",[e._v("\n      Logging In…\n    ")])])])}),[],!1,null,null,null);r.default=component.exports}}]);
//# sourceMappingURL=790ddac0034343dfff70.js.map